# Peg Slam - Environment Variables Template
# Copy this file to .env and fill in your actual values

# === Server Configuration ===
NODE_ENV=development
PORT=7118

# === Database Configuration ===
# MongoDB Atlas connection string
# Get this from: MongoDB Atlas → Connect → Drivers → Connection String
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/peg_slam?retryWrites=true&w=majority

# === Security Configuration ===
# CRITICAL: Generate a strong random secret for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=change-this-to-a-random-secret-in-production

# === Base Path (for reverse proxy deployment) ===
# Leave empty for root path deployment
# Set to /pegslam for http://domain.com/pegslam/ deployment
EXPRESS_BASE_PATH=
VITE_BASE_PATH=

# === Payment Configuration (Stripe) ===
# Get from: https://dashboard.stripe.com/apikeys
# Server-side secret key (use sk_test_* for testing, sk_live_* for production)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
# Frontend publishable key (use pk_test_* for testing, pk_* for production)
VITE_STRIPE_PUBLIC_KEY=pk_test_your_stripe_publishable_key_here

# === Email Configuration (Resend) ===
# Get from: https://resend.com/api-keys
# Create an account at resend.com and get your API key
RESEND_API_KEY=re_your_resend_api_key_here
# Email address that will appear as the sender (must be verified in Resend)
RESEND_FROM_EMAIL=noreply@pegslam.co.uk
# Email address to RECEIVE contact form submissions
CONTACT_EMAIL=admin@pegslam.co.uk

# === Application URL ===
# Your application's public URL (used for email verification links)
# For AWS EC2: http://your-ec2-ip:7118 or http://your-ec2-ip:7118/pegslam
# For custom domain: https://www.pegslam.co.uk
APP_URL=http://localhost:5000

# === AWS EC2 Production Example ===
# NODE_ENV=production
# PORT=7118
# EXPRESS_BASE_PATH=/pegslam
# VITE_BASE_PATH=/pegslam
# APP_URL=http://3.208.52.220:7118/pegslam
# MONGODB_URI=mongodb+srv://produser:prodpass@cluster.mongodb.net/peg_slam
# SESSION_SECRET=your-32-byte-random-hex-string-generate-with-crypto
# STRIPE_SECRET_KEY=sk_live_your_production_stripe_key
# VITE_STRIPE_PUBLIC_KEY=pk_live_your_production_stripe_publishable_key
# RESEND_API_KEY=re_your_production_resend_api_key
# RESEND_FROM_EMAIL=noreply@pegslam.co.uk
# CONTACT_EMAIL=admin@pegslam.co.uk

# === IMPORTANT DEPLOYMENT NOTES ===
# 1. Email Verification: Users MUST verify their email before they can login
#    - Verification emails are sent automatically upon registration
#    - APP_URL must be set correctly for verification links to work
#    - Ensure RESEND_API_KEY and RESEND_FROM_EMAIL are configured
#
# 2. Contact Form: Submissions are sent to CONTACT_EMAIL
#    - Set CONTACT_EMAIL to the admin email where you want to receive messages
#    - Requires Resend to be properly configured
#
# 3. Payment Processing: Requires valid Stripe keys
#    - Use test keys (sk_test_*, pk_test_*) for testing
#    - Use live keys (sk_live_*, pk_live_*) for production
#    - Test the booking flow thoroughly before going live
#
# 4. MongoDB: Ensure your MongoDB Atlas cluster allows connections from your EC2 IP
#    - Add your EC2 IP to the MongoDB Atlas Network Access whitelist
#    - Or allow access from anywhere (0.0.0.0/0) if using proper authentication
